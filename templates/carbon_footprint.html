{% extends 'base.html' %}

{% block title %}Carbon Footprint Calculator{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/forms.css') }}">
{% endblock %}

{% block content %}
<div class="signin-body-container">
    <div class="form-page-container">
        <h2>Carbon Footprint Calculator</h2>
        <p class="form-description">Estimate your annual carbon footprint by answering the questions below.</p>

        {% if result %}
        <div class="result-card-cf">
            <h3>Your Estimated Annual Footprint:</h3>
            <p class="footprint-value">{{ "{:,.2f}".format(result) }} kg COâ‚‚e</p>
            <div class="result-breakdown">
                <p><strong>Note:</strong> This is a simplified estimate. The average in developed countries is 10,000-20,000 kg.</p>
                <h4>What you can do:</h4>
                <ul>
                    <li>Switch to LED bulbs and unplug unused electronics.</li>
                    <li>Opt for public transport, cycling, or walking.</li>
                    <li>Reducing meat consumption can significantly lower your footprint.</li>
                </ul>
            </div>
            <a href="{{ url_for('carbon_footprint') }}" class="btn-primary-form">Calculate Again</a>
        </div>
        {% else %}
        <form action="{{ url_for('calculate_carbon_footprint') }}" method="POST" class="footprint-form">
            <label for="electricity">Avg. Monthly Electricity Bill (USD)?</label>
            <input type="number" id="electricity" name="electricity" placeholder="e.g., 50" required>
            
            <label for="car_distance">Miles driven by car each week?</label>
            <input type="number" id="car_distance" name="car_distance" placeholder="e.g., 100" required>

            <label for="flights">Short round-trip flights per year?</label>
            <input type="number" id="flights" name="flights" placeholder="e.g., 2" required>

            <label for="diet">Which best describes your diet?</label>
            <select id="diet" name="diet" required>
                <option value="meat_lover">High meat consumption</option>
                <option value="average">Average meat consumption</option>
                <option value="vegetarian">Vegetarian</option>
                <option value="vegan">Vegan</option>
            </select>

            <button type="submit">Calculate My Footprint</button>
        </form>
        {% endif %}
    </div>
</div>
{% endblock %}
